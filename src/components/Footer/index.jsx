import React from 'react';
import { graphql, StaticQuery } from 'gatsby';
import s from './s.module.scss';

const Friend = ({ name, link }) => (
  <a className={s.friendLink} href={link}>
    <svg
      className={s.friendIcon}
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 165 218"
      fill="none"
    >
      <path
        fill="#000"
        d="M82.771.638C37.248.837.483 37.85.588 83.37v128.805l8.52-9.132c6.835-7.214 18.172-7.678 25.569-1.042l17.669 15.999 18.18-16.436c6.943-6.336 17.57-6.336 24.514 0l18.172 16.436 17.669-15.991c7.396-6.632 18.729-6.172 25.568 1.034l8.508 9.066V83.363C165.059 37.843 128.29.833 82.771.638zM46.244 137.6c-15.367 0-27.39-16.042-27.39-36.523s12.023-36.523 27.39-36.523c15.37 0 27.394 16.042 27.394 36.523s-12.023 36.523-27.394 36.523zm36.527-100.44a45.014 45.014 0 0 0-25.05 7.595 9.135 9.135 0 1 1-10.135-15.203A63.317 63.317 0 0 1 82.771 18.9c5.04 0 9.129 4.089 9.129 9.13 0 5.043-4.089 9.132-9.129 9.132zm36.523 100.44c-15.367 0-27.394-16.042-27.394-36.523s12.027-36.523 27.394-36.523c15.367 0 27.394 16.042 27.394 36.523s-12.027 36.523-27.394 36.523z"
      />
      <path
        fill="#000"
        d="M128.423 101.078c0-10.088-4.085-18.261-9.129-18.261s-9.133 8.173-9.133 18.261c0 10.085 4.089 18.262 9.133 18.262 5.044 0 9.129-8.177 9.129-18.262zM55.377 101.078c0-10.088-4.089-18.261-9.133-18.261-5.04 0-9.129 8.173-9.129 18.261 0 10.085 4.089 18.262 9.129 18.262 5.044 0 9.133-8.177 9.133-18.262z"
      />
    </svg>
    <span className={s.friendName}>{name}</span>
  </a>
);

const Footer = () => (
  <StaticQuery
    query={graphql`
      query FooterQuery {
        site {
          siteMetadata {
            footerLinks {
              link
              name
            }
          }
        }
      }
    `}
    render={({
      site: {
        siteMetadata: { footerLinks },
      },
    }) => {
      return (
        <footer className={s.footer}>
          <p>
            Built with love.{' '}
            <a className={s.icon} href="https://twitter.com/reknowledgeable">
              <svg viewBox="0 0 612 498" fill="none">
                <path
                  d="M537.342 74.2993L540.5 83.5542C560.11 81.2282 579.366 76.6407 597.885 69.8964C583.239 88.8562 565.832 105.677 546.302 119.607L544.138 121.151L544.207 123.807L544.626 139.997C544.593 303.729 420.02 492.119 192.438 492.119C129.993 492.119 71.4356 475.755 20.5942 447.186C23.6955 447.298 26.8121 447.355 29.944 447.355C89.9134 447.355 145.144 426.958 188.944 392.636L200.021 383.956L185.951 383.701C136.148 382.798 93.6691 351.656 76.1807 307.811C81.4389 308.489 86.7824 308.839 92.241 308.839C104.172 308.839 115.698 307.208 126.62 304.269L126.307 294.539C73.3196 283.877 32.8567 238.42 29.8121 183.052C45.9238 190.675 63.4551 194.931 81.3297 195.522L98.8415 196.102L84.2728 186.368C51.9515 164.772 30.66 127.869 30.66 86.046C30.66 66.5061 35.2739 48.0757 43.5068 31.8021C106.213 105.603 197.977 153.931 301.139 159.113L307.767 159.446L306.259 152.983C304.206 144.183 303.139 134.965 303.139 125.513C303.139 58.9794 357.116 5 423.69 5C458.396 5 489.674 19.6105 511.672 43.0775L513.569 45.1013L516.29 44.5629C540.777 39.7181 563.998 31.4382 585.491 20.2339C575.324 42.7787 558.427 61.6729 537.342 74.2993Z"
                  fill="black"
                  stroke="black"
                  strokeWidth="20"
                />
              </svg>
            </a>
          </p>
          <div className={s.friends}>
            <span className={s.friendLabel}>Friends of RK:</span>
            {!!footerLinks &&
              footerLinks.map(link => (
                <Friend key={`friend-link-${link.name}`} {...link} />
              ))}
          </div>
        </footer>
      );
    }}
  />
);

export default Footer;
